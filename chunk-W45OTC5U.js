import{a as k}from"./chunk-54SZDUBV.js";import{Cb as a,Db as d,Ka as f,Oa as c,Pa as u,Pb as S,Rb as I,Xa as v,bb as h,hb as g,lb as x,mb as w,nb as b,nc as C,ob as y,pb as n,qb as o,rb as p}from"./chunk-NO3ABJ5Q.js";var s=class extends Error{};s.prototype.name="InvalidTokenError";function _(r){return decodeURIComponent(atob(r).replace(/(.)/g,(t,e)=>{let i=e.charCodeAt(0).toString(16).toUpperCase();return i.length<2&&(i="0"+i),"%"+i}))}function j(r){let t=r.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return _(t)}catch{return atob(t)}}function O(r,t){if(typeof r!="string")throw new s("Invalid token specified: must be a string");t||(t={});let e=t.header===!0?0:1,i=r.split(".")[e];if(typeof i!="string")throw new s(`Invalid token specified: missing part #${e+1}`);let m;try{m=j(i)}catch(l){throw new s(`Invalid token specified: invalid base64 for part #${e+1} (${l.message})`)}try{return JSON.parse(m)}catch(l){throw new s(`Invalid token specified: invalid json for part #${e+1} (${l.message})`)}}function U(r,t){if(r&1&&(n(0,"div",1)(1,"div",3),p(2,"img",4),o(),n(3,"div",5)(4,"div",6)(5,"div",7)(6,"h3",8),a(7),o(),n(8,"h4",9),a(9),o()(),n(10,"div",10)(11,"div"),a(12," count : "),n(13,"span",9),a(14),o()(),n(15,"div"),a(16," price : "),n(17,"span",9),a(18),S(19,"currency"),o()(),n(20,"div"),a(21," rating : "),n(22,"span",9),a(23),o(),p(24,"i",11),o()()()()()),r&2){let e=t.$implicit;c(2),g("src",e.product.imageCover,f)("alt",e.product.title),c(5),d(e.product.brand.name),c(2),d(e.product.title),c(5),d(e.count),c(4),d(I(19,7,e.price,"EGP ")),c(5),d(e.product.ratingsAverage)}}function A(r,t){r&1&&(n(0,"h1",2),a(1,"thank you for buy"),o())}var E=class r{constructor(t){this._OrdersService=t}dataUserOrders={};jwtToken;thankYou=!1;ngOnInit(){let t=localStorage.getItem("token");if(t){let e=O(t);this.jwtToken=e}this._OrdersService.getUserOrders(this.jwtToken.id).subscribe({next:e=>{this.dataUserOrders=e.at(length-1)},error:e=>{this.thankYou=!0}})}static \u0275fac=function(e){return new(e||r)(u(k))};static \u0275cmp=v({type:r,selectors:[["app-allorders"]],decls:4,vars:1,consts:[[1,"my-5"],[1,"row","products","mb-3","d-flex","flex-column","flex-md-row"],[1,"text-center","mt-5","jasper-color"],[1,"col-md-4","p-3"],[1,"w-100",3,"src","alt"],[1,"col-md-8","p-4"],[1,"details","d-flex","flex-column","justify-content-between"],[1,"text"],[1,"jasper-color"],[1,"p-color"],[1,"rating","jasper-color"],[1,"fa-solid","fa-star","ms-2",2,"color","#ffd43b"]],template:function(e,i){e&1&&(n(0,"section",0),b(1,U,25,10,"div",1,w),o(),h(3,A,2,0,"h1",2)),e&2&&(c(),y(i.dataUserOrders.cartItems),c(2),x(i.thankYou?3:-1))},dependencies:[C],styles:[".details[_ngcontent-%COMP%]{height:100%;max-height:100%}.rating[_ngcontent-%COMP%]{font-size:20px}"]})};export{E as AllordersComponent};
