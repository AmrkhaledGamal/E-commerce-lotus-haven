import{a as H}from"./chunk-R5VOKEEE.js";import{a as B,b as F,c as N}from"./chunk-TPJGXQBH.js";import{a as j}from"./chunk-J6B4IFPL.js";import{l as k,n as V}from"./chunk-NQQZHCGT.js";import{d as E}from"./chunk-Q6M5HNXJ.js";import{Bb as C,Cb as m,Db as x,Eb as R,Ka as S,Oa as s,Pa as c,Pb as A,Rb as O,Ta as D,Xa as w,bb as _,ea as p,fa as u,hb as g,lb as v,mb as P,nb as I,nc as M,ob as T,pb as a,qb as r,rb as h,sb as W,tb as y,ub as f,wb as b,xb as l}from"./chunk-NO3ABJ5Q.js";function z(n,e){if(n&1&&h(0,"img",12),n&2){let t=l().$implicit;g("src",t,S)}}function G(n,e){n&1&&(W(0),_(1,z,1,1,"ng-template",11),y())}function U(n,e){if(n&1){let t=f();a(0,"button",13,1),b("click",function(){p(t);let d=C(1),o=l(2);return u(o.pushWishlist(o.productDetails._id,d))}),h(2,"i",14),r()}}function $(n,e){if(n&1){let t=f();a(0,"button",13,1),b("click",function(){p(t);let d=C(1),o=l(2);return u(o.removeFormWishlist(o.productDetails._id,d))}),h(2,"i",15),r()}}function q(n,e){if(n&1){let t=f();a(0,"section",2)(1,"div",3)(2,"div",4)(3,"owl-carousel-o",5),I(4,G,2,0,"ng-container",null,P),r()(),a(6,"div",6)(7,"div")(8,"h2"),m(9),r(),a(10,"h3"),m(11),r(),a(12,"p",7),m(13),r()(),a(14,"div")(15,"div",8)(16,"p",7),m(17),A(18,"currency"),r(),_(19,U,3,0,"button",9)(20,$,3,0,"button",9),r(),a(21,"button",10,0),b("click",function(){p(t);let d=C(22),o=l();return u(o.addToCart(o.productDetails._id,d))}),m(23," Add to cart "),r()()()()()}if(n&2){let t=l();s(3),g("options",t.SpecificProduct),s(),T(t.productDetails.images),s(5),x(t.productDetails.brand.name),s(2),x(t.productDetails.title),s(2),x(t.productDetails.description),s(4),R(" Price: ",O(18,7,t.productDetails.price,"EGP ")," "),s(2),v(t.wishlistIdData.includes(t.productDetails._id)?-1:19),s(),v(t.wishlistIdData.includes(t.productDetails._id)?20:-1)}}var L=class n{constructor(e,t,i,d,o,J){this._ActivatedRoute=e;this._ProductService=t;this._CartService=i;this.toastr=d;this._Renderer2=o;this._WishlistService=J}idProduct="";productDetails;wishlistIdData=[];ngOnInit(){this._ActivatedRoute.params.subscribe(e=>{this.idProduct=e.id}),this._ProductService.getProductsById(this.idProduct).subscribe({next:e=>{this.productDetails=e.data}}),this._WishlistService.getWishlist().subscribe({next:e=>{let t=e.data.map(i=>i.id);this.wishlistIdData=t}})}addToCart(e,t){this._Renderer2.setAttribute(t,"disabled","true"),this._CartService.addItemToCart(e).subscribe({next:i=>{this.toastr.success("Product added to cart"),this._Renderer2.removeAttribute(t,"disabled"),this._CartService.cartNumber.next(i.numOfCartItems)},error:i=>{this._Renderer2.removeAttribute(t,"disabled")}})}pushWishlist(e,t){this._Renderer2.setAttribute(t,"disabled","true"),this._WishlistService.addToWishlist(e).subscribe({next:i=>{this._Renderer2.removeAttribute(t,"disabled"),this.toastr.success(i.message),this.wishlistIdData=i.data,this._WishlistService.numWishlist.next(i.data.length)},error:i=>{this._Renderer2.removeAttribute(t,"disabled"),this.toastr.error("Product addition failed")}})}removeFormWishlist(e,t){this._Renderer2.setAttribute(t,"disabled","true"),this._WishlistService.removeWishlist(e).subscribe({next:i=>{this._Renderer2.removeAttribute(t,"disabled"),this.toastr.success("The product has been removed."),this.wishlistIdData=i.data,this._WishlistService.numWishlist.next(i.data.length)},error:i=>{this._Renderer2.removeAttribute(t,"disabled"),this.toastr.warning("The product has not been removed..")}})}SpecificProduct={loop:!1,mouseDrag:!0,touchDrag:!0,pullDrag:!1,dots:!0,autoplay:!1,autoplayTimeout:2e3,autoplaySpeed:1e3,navSpeed:700,navText:["Back","next"],items:1,nav:!1};static \u0275fac=function(t){return new(t||n)(c(E),c(H),c(V),c(k),c(D),c(j))};static \u0275cmp=w({type:n,selectors:[["app-details"]],decls:1,vars:1,consts:[["btnAdd",""],["btnWish",""],[1,"my-5","bg-white","products"],[1,"row","flex-column","flex-md-row"],[1,"col-12","col-md-3","p-2"],[3,"options"],[1,"info","col-12","col-md-9","p-4","d-flex","flex-column","justify-content-between"],[1,"text-muted"],[1,"d-flex","justify-content-between","align-items-center"],[1,"btn-favorite-details"],[1,"main-btn","w-100",3,"click"],["carouselSlide",""],["alt","Not found",1,"w-100","mw-100",3,"src"],[1,"btn-favorite-details",3,"click"],[1,"fa-solid","fa-heart-circle-plus"],[1,"fa-solid","fa-heart-circle-minus"]],template:function(t,i){t&1&&_(0,q,24,10,"section",2),t&2&&v(i.productDetails?0:-1)},dependencies:[N,F,B,M],styles:[".info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#d1423d;margin-bottom:10px}.info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#000000b3;margin-bottom:20px}@media (min-width: 992px){.products[_ngcontent-%COMP%]:hover   .btn-favorite-details[_ngcontent-%COMP%]{right:0;opacity:1}}.btn-favorite-details[_ngcontent-%COMP%]{position:relative;color:#cb0d06;border:none;background-color:transparent;font-size:20px;transition:.7s}.btn-favorite-details[_ngcontent-%COMP%]:disabled{color:#e86661}@media (min-width: 992px){.btn-favorite-details[_ngcontent-%COMP%]{right:-50px;opacity:0}}"]})};export{L as DetailsComponent};
