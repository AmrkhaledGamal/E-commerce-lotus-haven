import{a as Y}from"./chunk-H32YIXTP.js";import{a as U,c as G,e as q,j as J}from"./chunk-6RHAI3ON.js";import{a as Z}from"./chunk-R5VOKEEE.js";import{a as K,b as Q,c as X}from"./chunk-TPJGXQBH.js";import{a as z}from"./chunk-J6B4IFPL.js";import{l as N,n as $}from"./chunk-NQQZHCGT.js";import{g as L}from"./chunk-Q6M5HNXJ.js";import{Bb as y,Cb as u,Db as M,Eb as T,Gb as k,Hb as F,Ib as R,Ka as g,Kb as j,Oa as n,Pa as p,Pb as P,Rb as O,Sb as A,Ta as D,Xa as H,bb as f,ea as h,fa as v,hb as m,lb as W,mb as C,nb as b,nc as B,ob as x,oc as V,pb as o,qb as s,rb as l,sb as I,tb as E,ub as S,wb as w,xb as c}from"./chunk-NO3ABJ5Q.js";var te=r=>["/details",r];function ie(r,i){if(r&1&&l(0,"img",14),r&2){let e=c().$implicit;m("src",e.src,g)("alt",e.alt)}}function re(r,i){r&1&&(I(0),f(1,ie,1,2,"ng-template",13),E())}function ne(r,i){if(r&1&&(l(0,"img",15),o(1,"h6"),u(2),s()),r&2){let e=c().$implicit;m("src",e.image,g)("alt",e.slug)("title",e.name),n(2),M(e.name)}}function oe(r,i){r&1&&(I(0),f(1,ne,3,4,"ng-template",13),E())}function se(r,i){if(r&1){let e=S();o(0,"button",28,1),w("click",function(){h(e);let d=y(1),a=c().$implicit,_=c();return v(_.pushWishlist(a._id,d))}),l(2,"i",29),s()}}function ae(r,i){if(r&1){let e=S();o(0,"button",28,1),w("click",function(){h(e);let d=y(1),a=c().$implicit,_=c();return v(_.removeFormWishlist(a._id,d))}),l(2,"i",30),s()}}function le(r,i){if(r&1){let e=S();o(0,"div",12)(1,"div",16)(2,"div",17),l(3,"img",18),o(4,"div",19)(5,"h3",20),u(6),s(),o(7,"h4",21),u(8),s(),o(9,"div",22)(10,"span",23),u(11),P(12,"currency"),s(),o(13,"span",23),l(14,"i",24),u(15),s()()()(),f(16,se,3,0,"button",25)(17,ae,3,0,"button",25),o(18,"button",26,0),w("click",function(){let d=h(e).$implicit,a=y(19),_=c();return v(_.addToCart(d._id,a))}),l(20,"i",27),s()()()}if(r&2){let e=i.$implicit,t=c();n(2),m("routerLink",j(13,te,e._id)),n(),m("src",e.imageCover,g)("title",e.title)("alt",e.title),n(3),M(e.brand.name),n(2),T(" ",e.title.split(" ").slice(0,2).join(" ")," "),n(3),T("",O(12,10,e.price,"EGP ")," "),n(4),T(" ",e.ratingsAverage," "),n(),W(t.wishlistIdData.includes(e._id)?-1:16),n(),W(t.wishlistIdData.includes(e._id)?17:-1)}}var ee=class r{constructor(i,e,t,d,a){this._ProductService=i;this._CartService=e;this.toastr=t;this._Renderer2=d;this._WishlistService=a}products=[];categories=[];wishlistIdData=[];searchProduct="";mainSlides=[{src:"slider-1.jpg",alt:"slider-1"},{src:"slider-2.jpeg",alt:"slider-2"},{src:"slider-3.jpeg",alt:"slider-3"}];ngOnInit(){this._ProductService.getProducts().subscribe({next:i=>{this.products=i.data}}),this._ProductService.getCategories().subscribe({next:i=>{this.categories=i.data}}),this._WishlistService.getWishlist().subscribe({next:i=>{let e=i.data.map(t=>t.id);this.wishlistIdData=e}})}addToCart(i,e){this._Renderer2.setAttribute(e,"disabled","true"),this._CartService.addItemToCart(i).subscribe({next:t=>{this.toastr.success("Product added to cart"),this._Renderer2.removeAttribute(e,"disabled"),this._CartService.cartNumber.next(t.numOfCartItems)},error:t=>{this._Renderer2.removeAttribute(e,"disabled")}})}pushWishlist(i,e){this._Renderer2.setAttribute(e,"disabled","true"),this._WishlistService.addToWishlist(i).subscribe({next:t=>{this._Renderer2.removeAttribute(e,"disabled"),this.toastr.success(t.message),this.wishlistIdData=t.data,this._WishlistService.numWishlist.next(t.data.length)},error:t=>{this._Renderer2.removeAttribute(e,"disabled"),this.toastr.error("Product addition failed")}})}removeFormWishlist(i,e){this._Renderer2.setAttribute(e,"disabled","true"),this._WishlistService.removeWishlist(i).subscribe({next:t=>{this._Renderer2.removeAttribute(e,"disabled"),this.toastr.success("The product has been removed."),this.wishlistIdData=t.data,this._WishlistService.numWishlist.next(t.data.length)},error:t=>{this._Renderer2.removeAttribute(e,"disabled"),this.toastr.warning("The product has not been removed..")}})}categoryOptions={loop:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!1,dots:!0,autoplay:!0,autoplayTimeout:2e3,autoplaySpeed:1e3,navSpeed:700,navText:["Back","next"],responsive:{0:{items:1},400:{items:2},740:{items:3},940:{items:5}},nav:!1};mainSlideOptions={loop:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!1,dots:!0,navSpeed:700,navText:["Back","next"],items:1,nav:!1};static \u0275fac=function(e){return new(e||r)(p(Z),p($),p(N),p(D),p(z))};static \u0275cmp=H({type:r,selectors:[["app-home"]],decls:21,vars:10,consts:[["btnAdd",""],["btnWish",""],[1,"my-5"],[1,"row","g-0"],[1,"loop-slider","col-md-8"],[3,"options"],[1,"static-slide","col-md-4"],["src","slide-1.jpeg","alt","slide-1"],["src","slide-2.jpeg","alt","slide-2"],[1,"search","ms-auto","p-2","p-md-0","mb-3"],["type","search","placeholder","search",1,"form-control","input-search",3,"ngModelChange","ngModel"],[1,"row","g-4"],[1,"col-sm-6","col-md-4","col-lg-3","col-xl-2","col-xxl-2"],["carouselSlide",""],[3,"src","alt"],[1,"image-slide",3,"src","alt","title"],[1,"products","bg-white","position-relative"],["role","button",3,"routerLink"],[1,"w-100","mw-100",3,"src","title","alt"],[1,"info","py-3","px-2"],[1,"jasper-color","h5","mb-2"],[1,"h6","p-color","mb-2"],[1,"price","d-flex","flex-row","justify-content-between","align-items-center","mb-2"],[1,"text-muted"],[1,"fa-solid","fa-star",2,"color","#ffd43b"],[1,"btn-favorite"],[1,"cart-plus",3,"click"],[1,"fa-solid","fa-cart-plus"],[1,"btn-favorite",3,"click"],[1,"fa-solid","fa-heart-circle-plus"],[1,"fa-solid","fa-heart-circle-minus"]],template:function(e,t){e&1&&(o(0,"section",2)(1,"div",3)(2,"div",4)(3,"owl-carousel-o",5),b(4,re,2,0,"ng-container",null,C),s()(),o(6,"div",6),l(7,"img",7)(8,"img",8),s()()(),o(9,"section",2)(10,"owl-carousel-o",5),b(11,oe,2,0,"ng-container",null,C),s()(),o(13,"section",2)(14,"div",9)(15,"input",10),R("ngModelChange",function(a){return F(t.searchProduct,a)||(t.searchProduct=a),a}),s()(),o(16,"div",11),b(17,le,21,15,"div",12,C),P(19,"search"),P(20,"slice"),s()()),e&2&&(n(3),m("options",t.mainSlideOptions),n(),x(t.mainSlides),n(6),m("options",t.categoryOptions),n(),x(t.categories),n(4),k("ngModel",t.searchProduct),n(2),x(A(20,6,O(19,3,t.products,t.searchProduct),0,15)))},dependencies:[V,B,X,Q,K,L,J,U,G,q,Y],styles:["@media (min-width: 1200px){.col-xl-2[_ngcontent-%COMP%]{width:20%}}.loop-slider[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:400px;width:100%}.static-slide[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px;width:100%}.image-slide[_ngcontent-%COMP%]{max-width:100%;height:250px}"]})};export{ee as HomeComponent};
