import{a as B,b as L,c as V}from"./chunk-AZOFHRLT.js";import{a as M}from"./chunk-A2LUOK3E.js";import{l as P,n as j}from"./chunk-36RFPW3B.js";import"./chunk-MUJWD3QE.js";import{Cb as g,Db as a,Eb as p,Fb as F,Ka as W,Oa as o,Pa as d,Qb as O,Sb as k,Ua as T,Ya as I,cb as v,ea as u,fa as _,ib as f,mb as y,nb as x,ob as b,oc as A,pb as C,qb as n,rb as s,sb as w,tb as D,ub as E,vb as R,xb as S,yb as c}from"./chunk-KSSE3UED.js";function N(r,i){if(r&1&&w(0,"img",18),r&2){let e=c().$implicit,t=c().$implicit;f("src","https://ecommerce.routemisr.com/Route-Academy-products/"+e,W)("alt",t.slug)("title",t.title)}}function H(r,i){r&1&&(D(0),v(1,N,1,3,"ng-template",17),E())}function z(r,i){if(r&1){let e=R();n(0,"div",4)(1,"div",6)(2,"owl-carousel-o",7),b(3,H,2,0,"ng-container",null,x),s()(),n(5,"div",8)(6,"div",9)(7,"h4",10),a(8),s(),n(9,"h6",11),a(10),s(),n(11,"p",12),a(12),s()(),n(13,"div")(14,"div",13)(15,"p",12),a(16),O(17,"currency"),s(),n(18,"button",14,0),S("click",function(){let l=u(e).$implicit,m=g(19),h=c();return _(h.removeFormWishlist(l._id,m))}),w(20,"i",15),s()(),n(21,"button",16,1),S("click",function(){let l=u(e).$implicit,m=g(22),h=c();return _(h.addToCart(l._id,m))}),a(23," Add to cart "),s()()()()}if(r&2){let e=i.$implicit,t=c();o(2),f("options",t.wishlistSlide),o(),C(e.images),o(5),p(e.brand.name),o(2),p(e.title),o(2),p(e.description),o(4),F(" Price: ",k(17,5,e.price,"EGP ")," ")}}function G(r,i){r&1&&(n(0,"h1",5),a(1,"wish list is empty...."),s())}var $=class r{constructor(i,e,t,l){this._WishlistService=i;this._CartService=e;this.toastr=t;this._Renderer2=l}wishlistData=[];wishListId=[];ngOnInit(){this._WishlistService.getWishlist().subscribe({next:i=>{this.wishlistData=i.data}})}addToCart(i,e){this._Renderer2.setAttribute(e,"disabled","true"),this._CartService.addItemToCart(i).subscribe({next:t=>{this.toastr.success("Product added to cart"),this._Renderer2.removeAttribute(e,"disabled"),this._CartService.cartNumber.next(t.numOfCartItems)},error:t=>{this._Renderer2.removeAttribute(e,"disabled")}})}removeFormWishlist(i,e){this._Renderer2.setAttribute(e,"disabled","true"),this._WishlistService.removeWishlist(i).subscribe({next:t=>{this._Renderer2.removeAttribute(e,"disabled"),this.toastr.success("The product has been removed."),this.wishListId=t.data;let l=this.wishlistData.filter(m=>this.wishListId.includes(m._id));this.wishlistData=l,this._WishlistService.numWishlist.next(t.data.length)},error:t=>{this._Renderer2.removeAttribute(e,"disabled"),this.toastr.warning("The product has not been removed..")}})}wishlistSlide={loop:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!0,navSpeed:700,navText:["",""],items:1,nav:!1};static \u0275fac=function(e){return new(e||r)(d(M),d(j),d(P),d(T))};static \u0275cmp=I({type:r,selectors:[["app-wishlist"]],decls:5,vars:1,consts:[["btnRemove",""],["btnAdd",""],[1,"my-5"],[1,"row","gap-3"],[1,"products","col-lg-6","d-flex","flex-row","bg-white"],[1,"text-center","mt-5","jasper-color"],[1,"col-4"],[3,"options"],[1,"col-8","p-3","d-flex","flex-column","justify-content-between"],[1,"details"],[1,"jasper-color"],[1,"p-colo"],[1,"text-muted"],[1,"d-flex","flex-row","justify-content-between","align-items-center"],[1,"remove","d-block",3,"click"],[1,"fa-solid","fa-trash"],[1,"main-btn","w-100",3,"click"],["carouselSlide",""],[1,"w-100",3,"src","alt","title"]],template:function(e,t){e&1&&(n(0,"section",2)(1,"div",3),b(2,z,24,8,"div",4,x),s()(),v(4,G,2,0,"h1",5)),e&2&&(o(2),C(t.wishlistData),o(2),y(t.wishlistData.length?-1:4))},dependencies:[V,L,B,A],styles:["@media (min-width: 992px){.col-lg-6[_ngcontent-%COMP%]{flex:0 0 auto;width:49%}}.remove[_ngcontent-%COMP%]{color:#cb0d06;border:none;background-color:transparent}.remove[_ngcontent-%COMP%]:disabled{color:#e86661}"]})};export{$ as WishlistComponent};
